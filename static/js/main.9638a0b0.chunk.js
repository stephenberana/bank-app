(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,a){},35:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(21),c=a.n(r),i=(a(35),a(7)),o=a(9),l=a(11),u=a(10),d=a(22),j=a.n(d),b=a(27),p=a(12),m=a(0),h=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"inputField",children:Object(m.jsx)("input",{className:"input",type:this.props.type,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)}})})}}]),a}(s.a.Component),O=(a(25),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"submitButton",children:Object(m.jsx)("button",{className:"submitbtn",disabled:this.props.disabled,onClick:function(){return e.props.onClick()},children:"Submit"})})}}]),a}(s.a.Component)),f=a(28),w=new function e(){Object(i.a)(this,e),Object(f.a)(this,{loading:!0,isLoggedIn:!1,username:""})},x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",buttonDisabled:!1},n}return Object(o.a)(a,[{key:"setInputValue",value:function(e,t){(t=t.trim()).length>20||this.setState(Object(p.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({username:"",password:"",buttonDisabled:!1})}},{key:"loginUser",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.username){e.next=2;break}return e.abrupt("return");case 2:if(this.state.password){e.next=4;break}return e.abrupt("return");case 4:return this.setState({buttonDisabled:!0}),e.prev=5,e.next=8,fetch("/isLoggedIn",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 8:return a=e.sent,e.next=11,a.json();case 11:(n=e.sent)&&n.success?(w.loading=!1,w.isLoggedIn=!0,w.username=n.username):n&&!1===n.success&&(w.loading=!1,w.isLoggedIn=!1,this.resetForm(),alert(n.msg)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0),this.resetForm();case 19:case"end":return e.stop()}}),e,this,[[5,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"loginForm",children:[Object(m.jsx)("h1",{className:"header",children:"Bank of Wall Street"}),Object(m.jsx)("h2",{className:"header",children:"Where money never sleeps."}),"Log In",Object(m.jsx)(h,{className:"inputField",type:"text",placeholder:"Username",value:this.state.username?this.state.username:"",onChange:function(t){return e.setInputValue("username",t)}}),Object(m.jsx)(h,{className:"inputField",type:"password",placeholder:"Password",value:this.state.password?this.state.password:"",onChange:function(t){return e.setInputValue("password",t)}}),Object(m.jsx)("div",{className:"submitButton",children:Object(m.jsx)(O,{className:"submitbtn",type:"button",value:"Login",disabled:this.state.buttonDisabled,onClick:function(){return e.doLogin()}})}),Object(m.jsx)("div",{className:"registerLink",children:Object(m.jsxs)("span",{className:"form-input-signup",children:["Not a member? ",Object(m.jsx)("br",{}),Object(m.jsx)("a",{style:{color:"white"},href:"/register-link",children:"Register here."})]})})]})})}}]),a}(s.a.Component),v=function(){return Object(m.jsx)("div",{className:"dash-head-container",children:Object(m.jsx)("h1",{children:" Hi, user! "})})},g=a(13),N=a(18),y=a(4),T=function(e,t){switch(t.type){case"ADD_DEPOSIT":return Object(y.a)(Object(y.a)({},e),{},{depositTransactions:[t.payload].concat(Object(N.a)(e.depositTransactions))});case"ADD_WITHDRAW":return Object(y.a)(Object(y.a)({},e),{},{withdrawTransactions:[t.payload].concat(Object(N.a)(e.withdrawTransactions))});case"DELETE_TRANSACTION":return Object(y.a)(Object(y.a)({},e),{},{depositTransactions:e.depositTransactions.filter((function(e){return e.id!==t.payload})),withdrawTransactions:e.withdrawTransactions.filter((function(e){return e.id!==t.payload}))});case"TOTAL_BALANCE":return Object(y.a)(Object(y.a)({},e),{},{remainingBalance:[t.payload].concat(Object(N.a)(e.remainingBalance))});default:return e}},C=function(e){var t=e.depositTransaction,a=Object(n.useContext)(k).deleteTransaction;return Object(m.jsx)("div",{children:Object(m.jsxs)("li",{className:"transaction",children:[Object(m.jsxs)("span",{className:"transaction-amount",children:["$",t.depositAmount]}),Object(m.jsx)("button",{className:"delete-btn",onClick:function(){return a(t.id)},children:Object(m.jsx)("i",{className:"fas fa-trash"})})]})})},A=function(e){var t=e.withdrawTransaction,a=Object(n.useContext)(k).deleteTransaction;return Object(m.jsx)("div",{children:Object(m.jsxs)("li",{className:"transaction",children:[Object(m.jsxs)("span",{className:"transaction-amount",children:["$",t.withdrawAmount]}),Object(m.jsx)("button",{className:"delete-btn",onClick:function(){return a(t.id)},children:Object(m.jsx)("i",{className:"fas fa-trash"})})]})})},S={depositTransactions:JSON.parse(localStorage.getItem("depositTransactions"))||[],withdrawTransactions:JSON.parse(localStorage.getItem("withdrawTransactions"))||[]},k=Object(n.createContext)(S),D=function(e){var t=e.children,a=Object(n.useReducer)(T,S),s=Object(g.a)(a,2),r=s[0],c=s[1];console.log("From Global Context"),Object(n.useEffect)((function(){localStorage.setItem("depositTransactions",JSON.stringify(r.depositTransactions)),localStorage.setItem("withdrawTransactions",JSON.stringify(r.withdrawTransactions)),localStorage.setItem("remainingBalance",JSON.stringify(r.remainingBalance))}));return Object(m.jsx)(k.Provider,{value:{depositTransactions:r.depositTransactions,withdrawTransactions:r.withdrawTransactions,addDeposit:function(e){c({type:"ADD_DEPOSIT",payload:e})},addWithdraw:function(e){c({type:"ADD_WITHDRAW",payload:e})},deleteTransaction:function(e){c({type:"DELETE_TRANSACTION",payload:e})},totalBalance:function(e){c({type:"TOTAL_BALANCE",payload:e})}},children:t})},I=function(){var e=Object(n.useContext)(k),t=e.depositTransactions,a=e.withdrawTransactions,s=t.map((function(e){return e.depositAmount})),r=a.map((function(e){return e.withdrawAmount})),c=(s.reduce((function(e,t){return e+t}),0).toFixed(2)-r.reduce((function(e,t){return e+t}),0).toFixed(2)).toFixed(2);return console.log(c),Object(m.jsxs)("div",{className:"balance",children:[Object(m.jsx)("h2",{children:"Your Balance"}),Object(m.jsxs)("h3",{value:c,children:["$",c]})]})},E=a(49),F=function(){var e=Object(n.useContext)(k),t=e.addDeposit,a=e.addWithdraw,s=e.remainingBalance,r=Object(n.useState)({depositAmount:0}),c=Object(g.a)(r,2),i=c[0],o=c[1],l=i.depositAmount,u=Object(n.useState)({withdrawAmount:0}),d=Object(g.a)(u,2),j=d[0],b=d[1],h=j.withdrawAmount;return Object(m.jsxs)("div",{className:"form-wrapper",children:[Object(m.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),l>0){var a={id:Object(E.a)(),depositAmount:1*i.depositAmount};t(a),o({depositAmount:0})}},children:Object(m.jsxs)("div",{className:"input-group deposit",children:[Object(m.jsx)("input",{type:"number",value:l,name:"depositAmount",placeholder:"Deposit amount",autoComplete:"off",onChange:function(e){o(Object(y.a)(Object(y.a)({},i),{},Object(p.a)({},e.target.name,e.target.value)))}}),Object(m.jsx)("input",{type:"submit",value:"submit"})]})}),Object(m.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),h>0){var t={id:Object(E.a)(),withdrawAmount:1*j.withdrawAmount};if(h>s)return window.alert("Withdrawal amount must not be greater than total balance."),!1;a(t),b({withdrawAmount:0})}},children:Object(m.jsxs)("div",{className:"input-group withdraw",children:[Object(m.jsx)("input",{type:"number",value:h,name:"withdrawAmount",placeholder:"Withdraw amount",autoComplete:"off",onChange:function(e){b(Object(y.a)(Object(y.a)({},j),{},Object(p.a)({},e.target.name,e.target.value)))}}),Object(m.jsx)("input",{type:"submit",value:"submit"})]})})]})},L=function(){var e=Object(n.useContext)(k).withdrawTransactions;return console.log(e),Object(m.jsxs)("div",{className:"transaction-withdraw",children:[Object(m.jsx)("h2",{children:"Transaction History"}),Object(m.jsx)("ul",{className:"transaction-list",children:e.map((function(e){return Object(m.jsx)(A,{withdrawTransaction:e},e.id)}))})]})},B=function(){var e=Object(n.useContext)(k).depositTransactions;return console.log(e),Object(m.jsxs)("div",{className:"transaction-deposit",children:[Object(m.jsx)("h2",{children:"Transaction History"}),Object(m.jsx)("ul",{className:"transaction-list",children:e.map((function(e){return Object(m.jsx)(C,{depositTransaction:e},e.id)}))})]})},P=(a(38),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)(D,{children:Object(m.jsx)("div",{className:"dash-container",children:Object(m.jsxs)("div",{className:"app-wrapper",children:[Object(m.jsx)(v,{}),Object(m.jsx)(I,{}),Object(m.jsx)(F,{}),Object(m.jsx)(B,{}),Object(m.jsx)(L,{})]})})})}}]),a}(s.a.Component));a(21),window.React2=a(1),console.log(window.React1===window.React2);var W=function(e){var t=Object(n.useState)({username:"",email:"",password:"",password2:""}),a=Object(g.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)({}),i=Object(g.a)(c,2),o=i[0],l=i[1];return{handleChange:function(e){var t=e.target,a=t.name,n=t.value;r(Object(y.a)(Object(y.a)({},s),{},Object(p.a)({},a,n)))},values:s,handleSubmit:function(t){t.preventDefault(),l(e(s))},errors:o}};function R(e){var t={};return e.username.trim()||(t.username="Username required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",e.password?e.password.length<8&&(t.password="Password needs to be 8 characters or more"):t.password="Password is required",e.password2?e.password2!==e.password&&(t.password2="Passwords do not match"):t.password2="Password is required",t}a(39);var _=function(){var e=W(R),t=e.handleChange,a=e.values,n=e.handleSubmit,s=e.errors;return Object(m.jsx)("div",{className:"base-container",children:Object(m.jsxs)("form",{className:"form",onSubmit:n,children:[Object(m.jsx)("div",{className:"header",children:Object(m.jsx)("h1",{children:"Create your account by filling out the information below."})}),Object(m.jsxs)("div",{className:"form-inputs",children:[Object(m.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(m.jsx)("input",{id:"username",type:"text",name:"username",className:"form-input",placeholder:"Enter your username...",value:a.username,onChange:t}),s.username&&Object(m.jsx)("p",{children:s.username})]}),Object(m.jsxs)("div",{className:"form-inputs",children:[Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(m.jsx)("input",{id:"email",type:"email",name:"email",className:"form-input",placeholder:"Enter your email...",value:a.email,onChange:t}),s.email&&Object(m.jsx)("p",{children:s.email})]}),Object(m.jsxs)("div",{className:"form-inputs",children:[Object(m.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(m.jsx)("input",{id:"password",type:"password",name:"password",className:"form-input",placeholder:"Enter your password...",value:a.password,onChange:t}),s.password&&Object(m.jsx)("p",{children:s.password})]}),Object(m.jsxs)("div",{className:"form-inputs",children:[Object(m.jsx)("label",{htmlFor:"password2",className:"form-label",children:"Confirm Password"}),Object(m.jsx)("input",{id:"password2",type:"password",name:"password2",className:"form-input",placeholder:"Enter your password...",value:a.password2,onChange:t}),s.password2&&Object(m.jsx)("p",{children:s.password2})]}),Object(m.jsx)("div",{className:"input-btn-cont",children:Object(m.jsx)("button",{className:"form-input-btn",type:"submit",children:"Sign Up"})}),Object(m.jsx)("div",{className:"register-footer",children:Object(m.jsxs)("span",{className:"form-input-signup",children:["Already a member? ",Object(m.jsx)("br",{}),Object(m.jsx)("a",{style:{color:"white"},href:"/bank-app",children:"Log in here."})]})})]})})},J=a(29),H=a(2),U=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(m.jsx)(J.a,{children:Object(m.jsx)("div",{className:"app",children:Object(m.jsxs)(H.c,{children:[Object(m.jsx)(H.a,{path:"/bank-app",children:Object(m.jsx)(x,{})}),Object(m.jsx)(H.a,{path:"/register-link",children:Object(m.jsx)(_,{})}),Object(m.jsx)(H.a,{path:"/dashboard",children:Object(m.jsx)(P,{})})]})})})}}]),a}(s.a.Component),q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(U,{})}),document.getElementById("root")),q()}},[[47,1,2]]]);
//# sourceMappingURL=main.9638a0b0.chunk.js.map